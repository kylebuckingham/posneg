webpackJsonp([1],{12:function(e,t,n){"use strict";var a=n(1),o=n(46),i=n(43),r=n.n(i);a.a.use(o.a),t.a=new o.a({routes:[{path:"/",name:"main",component:r.a}]})},14:function(e,t,n){n(37);var a=n(10)(n(34),n(44),null,null);e.exports=a.exports},32:function(e,t,n){"use strict";var a=n(1),o={headers:{"x-api-key":"cMapyJwfgt2bqGIbV4uMd1rN08g2ILek1WNtgeT3","content-type":"application/json"},url:"https://nygtvwgteg.execute-api.us-west-2.amazonaws.com/prod/posneg"},i=function(e){String(e).indexOf("401")!==-1&&console.log(e)};t.a={getData:function(){return o.method="GET",o.params={TableName:"posneg"},a.a.axios.request(o).then(function(e){return e.data.Items}).catch(function(e){i(e)})},sendData:function(e){return o.params={},o.method="POST",console.log(e),a.a.axios.request({TableName:"posneg",Item:e}).then(function(t){return console.log(e),t.data.Items}).catch(function(e){i(e)})}}},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(14),i=n.n(o),r=n(12),s=n(11),c=n.n(s),u=n(13),l=n.n(u);a.a.config.productionTip=!1,a.a.use(l.a,c.a),new a.a({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),o=n.n(a),i=n(32);t.default={name:"main",data:function(){return{geo:[],exp:(new Date).getTime()}},mounted:function(){this.createMap()},methods:{getUser:function(){var e=localStorage.getItem("posneg");return e||(e=this.guid(),localStorage.setItem("posneg",e)),e},getLocation:function(e){var t=this;if(t.geo.length>0&&(new Date).getTime()-t.exp<2e5)return e(t.geo);navigator.geolocation.getCurrentPosition(function(n){return t.geo=[n.coords.latitude,n.coords.longitude],t.exp=(new Date).getTime(),e(t.geo)})},storeEvent:function(e){var t=this;t.getLocation(function(n){i.a.sendData({user:t.getUser(),time:(new Date).getTime(),geo:n,value:e}).then(function(e){})})},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},JSONtoGeo:function(e){var t=[[],[]];for(var n in e)t[e[n].value].push({type:"Feature",geometry:{type:"Point",coordinates:[e[n].geo[1],e[n].geo[0]]}});return t},createMap:function(){o.a.accessToken="pk.eyJ1IjoiYnVja2lua2IiLCJhIjoiY2oxZDU3Mm9wMDBlYjMxbXB4Y2t4am5mbyJ9.gl_2wlSPKP9K9AqFLpQsGQ";var e=this,t=e.map;t=new o.a.Map({container:"map",style:"mapbox://styles/mapbox/light-v9",minzoom:1.3,center:[-122.3317778,47.6357572],zoom:13});var n=[];i.a.getData().then(function(a){n=a,t.on("load",function(n){var o=e.JSONtoGeo(a);for(var i in o)t.addLayer({id:"points"+i,type:"circle",source:{type:"geojson",data:{type:"FeatureCollection",features:o[i]}},layout:{visibility:"visible"},paint:{"circle-radius":8,"circle-color":Number(i)>0?"#b30707":"#0ea541"}})})})}}}},37:function(e,t){},38:function(e,t){},43:function(e,t,n){n(38);var a=n(10)(n(35),n(45),"data-v-4a01d122",null);e.exports=a.exports},44:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},45:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{attrs:{id:"map"}}),e._v(" "),n("div",{staticClass:"math",attrs:{id:"neg"},on:{click:function(t){e.storeEvent(0)}}},[n("span",{staticClass:"label"},[e._v("-")])]),e._v(" "),n("div",{staticClass:"math",attrs:{id:"pos"},on:{click:function(t){e.storeEvent(1)}}},[n("span",{staticClass:"label"},[e._v("+")])])])},staticRenderFns:[]}}},[33]);
//# sourceMappingURL=app.5237560748fbca232849.js.map