{"version":3,"sources":["webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/api/resources.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///main.vue","webpack:///./src/App.vue?29b8","webpack:///./src/components/main.vue?aee4","webpack:///./src/components/main.vue?34fb","webpack:///./src/App.vue?0887","webpack:///./src/components/main.vue?704d"],"names":["Vue","use","routes","path","name","component","main","request","headers","url","handleError","err","String","indexOf","console","log","getData","method","params","axios","then","response","data","Items","catch","sendData","d","TableName","Item","config","productionTip","el","router","template","components","App"],"mappings":"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","file":"static/js/app.44149809712e7b055141.js","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport main from '@/components/main'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'main',\n      component: main\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-32256691\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32256691\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 14\n// module chunks = 1","import Vue from 'vue'\n\n// Get Data\nvar request = {\n  headers: {\n    'x-api-key': 'cMapyJwfgt2bqGIbV4uMd1rN08g2ILek1WNtgeT3'\n    // \"content-type\": \"application/json\"\n  },\n  url: 'https://nygtvwgteg.execute-api.us-west-2.amazonaws.com/prod/posneg'\n}\n\nvar handleError = (err) => {\n  if (String(err).indexOf('401') !== -1) {\n    console.log('errror' + err)\n  }\n}\n\nexport default {\n  getData () {\n    request.method = 'GET'\n    request.params = {\n      'TableName': 'posneg'\n    }\n    return Vue.axios.request(request).then((response) => {\n      return response.data.Items\n    }).catch(err => {\n      handleError(err)\n    })\n  },\n  sendData (d) {\n    request.params = {}\n    request.method = 'POST'\n    request.data = {\n      TableName: 'posneg',\n      Item: d\n    }\n    Vue.axios.request(request).then((response) => {\n      return response.data.Items\n    }).catch(err => {\n      handleError(err)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/resources.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\n// import * as VueGoogleMaps from 'vue2-google-maps';\n\n// Vue.use(VueGoogleMaps, {\n// load: {\n//   key: 'AIzaSyBZxaYnVIj-L0rSw3us_ICOYO5Lr05c6Zs'\n//   // v: 'OPTIONAL VERSION NUMBER',\n//   // libraries: 'places', //// If you need to use place input\n// }\n// });\n\nVue.config.productionTip = false\nVue.use(VueAxios, axios)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?6c22c58f","<style lang='scss' scoped>\n\n  $control-buttons-l: #b30707;\n  $control-buttons-r: #0ea541;\n\n  .main {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    right: 0px;\n  }\n\n  .math {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    height: auto;\n    font-size: 725%;\n    color: rgba(44, 62, 80, 1);\n    text-shadow: 0px 2px 3px #555;\n  }\n\n  #neg {\n    background: $control-buttons-l;\n    left: 0;\n    right: 50%;\n    &:hover,\n    &:active {\n      color: #fff;\n      background: lighten($control-buttons-l, 5%);\n    }\n    &.clicked {\n      right: 100%;\n    }\n  }\n\n  #pos {\n    right: 0;\n    left: 50%;\n    background: $control-buttons-r;\n    &:hover,\n    &:active {\n      background: lighten($control-buttons-r, 5%);\n      color: #fff;\n    }\n    &.clicked {\n      left: 100%;\n    }\n  }\n\n  .mapboxgl-ctrl-logo {\n    display: none;\n  }\n\n  #map {\n    text-align: left;\n    position: absolute;\n    top: 0px;\n    left: 0px !important;\n    bottom: 0px;\n    right: 0px;\n    width: 100%;\n  }\n\n</style>\n\n<template>\n\n  <div class='main'>\n    <div id='map'></div>\n    <div id='neg' v-bind:class=\"{'clicked': clicked}\" class='math' v-on:click='storeEvent(0)'></div>\n    <div id='pos' v-bind:class=\"{'clicked': clicked}\" class='math' v-on:click='storeEvent(1)'></div>\n  </div>\n\n</template>\n\n<script>\n  import mapboxgl from 'mapbox-gl'\n  import resources from '../api/resources'\n\n  export default {\n    name: 'main',\n    data () {\n      return {\n        geo: [],\n        exp: new Date().getTime(),\n        clicked: false,\n        map: {}\n      }\n    },\n    mounted () {\n      this.createMap()\n    },\n    methods: {\n      getUser: function () {\n        var id = localStorage.getItem('posneg')\n        if (!id) {\n          id = this.guid()\n          localStorage.setItem('posneg', id)\n        }\n        return id\n      },\n      getLocation: function (cb) {\n        var s = this\n        if (s.geo.length > 0 && new Date().getTime() - s.exp < 200000) {\n          return cb(s.geo)\n        } else {\n          navigator.geolocation.getCurrentPosition(function (pos) {\n            s.geo = [pos.coords.latitude, pos.coords.longitude]\n            s.exp = new Date().getTime()\n            return cb(s.geo)\n          })\n        }\n      },\n      storeEvent: function (val) {\n\n        var s = this\n        s.clicked = true\n        s.getLocation(function (geo) {\n          resources.sendData({\n            id: s.guid(),\n            user: s.getUser(),\n            time: new Date().getTime(),\n            geo: geo,\n            value: val\n          })\n          s.map.panTo([geo[1], geo[0]]);\n          s.addDataToMap()\n        })\n      },\n      guid: function () {\n        function s4 () {\n          return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1)\n        }\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n          s4() + '-' + s4() + s4() + s4()\n      },\n      JSONtoGeo: function (d) {\n        var n = [\n          [],\n          []\n        ]\n        for (var i in d) {\n          n[d[i].value].push({\n            'type': 'Feature',\n            'geometry': {\n              'type': 'Point',\n              'coordinates': [d[i].geo[1], d[i].geo[0]]\n            }\n          })\n        }\n        return n\n      },\n      createMap: function () {\n        mapboxgl.accessToken = 'pk.eyJ1IjoiYnVja2lua2IiLCJhIjoiY2oxZDU3Mm9wMDBlYjMxbXB4Y2t4am5mbyJ9.gl_2wlSPKP9K9AqFLpQsGQ'\n\n        var s = this\n        // init the map\n        s.map = new mapboxgl.Map({\n          container: 'map',\n          style: 'mapbox://styles/mapbox/light-v9',\n          minzoom: 1.3,\n          center: [-122.3317778, 47.6357572], // Seattle\n          zoom: 13\n        })\n        s.map.on('load', function (e) {\n          s.addDataToMap()\n        })\n      },\n      addDataToMap: function () {\n        var s = this\n        resources.getData().then(function (d) {\n          var data = s.JSONtoGeo(d)\n          for (var i in data) {\n            var layer = s.map.getLayer('points' + i)\n            if (!layer){\n              s.map.addLayer({\n                'id': 'points' + i,\n                'type': 'circle',\n                'source': {\n                  'type': 'geojson',\n                  'data': {\n                    'type': 'FeatureCollection',\n                    'features': data[i]\n                  }\n                },\n                'layout': {\n                  'visibility': 'visible'\n                },\n                'paint': {\n                  'circle-radius': 8,\n                  'circle-color': Number(i) > 0 ? '#0ea541' : '#b30707'\n                }\n              })\n            } else {\n              s.map.getSource('points' + i).setData({\n                'type': 'FeatureCollection',\n                'features': data[i]\n              })\n            }\n          }\n        })\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// main.vue?1263588a","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-32256691\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 37\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-4a01d122\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/main.vue\n// module id = 38\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4a01d122\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./main.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./main.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a01d122\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./main.vue\"),\n  /* scopeId */\n  \"data-v-4a01d122\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/main.vue\n// module id = 43\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-32256691\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 44\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"math\",\n    class: {\n      'clicked': _vm.clicked\n    },\n    attrs: {\n      \"id\": \"neg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.storeEvent(0)\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"math\",\n    class: {\n      'clicked': _vm.clicked\n    },\n    attrs: {\n      \"id\": \"pos\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.storeEvent(1)\n      }\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a01d122\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/main.vue\n// module id = 45\n// module chunks = 1"],"sourceRoot":""}