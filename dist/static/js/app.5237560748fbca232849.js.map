{"version":3,"sources":["webpack:///static/js/app.5237560748fbca232849.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/api/resources.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///main.vue","webpack:///./src/components/main.vue?34fb","webpack:///./src/App.vue?0887","webpack:///./src/components/main.vue?704d"],"names":["webpackJsonp","12","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_main__","__WEBPACK_IMPORTED_MODULE_2__components_main___default","n","use","routes","path","name","component","a","14","exports","Component","32","request","headers","x-api-key","content-type","url","handleError","err","String","indexOf","console","log","getData","method","params","TableName","axios","then","response","data","Items","catch","sendData","d","Item","33","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","__WEBPACK_IMPORTED_MODULE_3_axios__","__WEBPACK_IMPORTED_MODULE_3_axios___default","__WEBPACK_IMPORTED_MODULE_4_vue_axios__","__WEBPACK_IMPORTED_MODULE_4_vue_axios___default","config","productionTip","el","router","template","components","App","34","35","__WEBPACK_IMPORTED_MODULE_0_mapbox_gl__","__WEBPACK_IMPORTED_MODULE_0_mapbox_gl___default","__WEBPACK_IMPORTED_MODULE_1__api_resources__","geo","exp","Date","getTime","mounted","this","createMap","methods","getUser","id","localStorage","getItem","guid","setItem","getLocation","cb","s","length","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","storeEvent","val","user","time","s4","Math","floor","random","toString","substring","JSONtoGeo","i","push","type","geometry","coordinates","accessToken","self","map","Map","container","style","minzoom","center","zoom","events","on","e","addLayer","source","features","layout","visibility","paint","circle-radius","circle-color","Number","37","38","43","44","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","45","staticClass","_v","click","$event"],"mappings":"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","file":"static/js/app.5237560748fbca232849.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 12:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_main__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_main___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_main__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'main',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_main___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(37)\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(34),\n  /* template */\n  __webpack_require__(44),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(1);\n\n\nvar testing;\n\nvar request = {\n\theaders: {\n\t\t\"x-api-key\": 'cMapyJwfgt2bqGIbV4uMd1rN08g2ILek1WNtgeT3',\n\t\t\"content-type\": \"application/json\"\n\t},\n\turl: 'https://nygtvwgteg.execute-api.us-west-2.amazonaws.com/prod/posneg'\n};\n\nvar handleError = function handleError(err) {\n\tif (String(err).indexOf('401') !== -1) {\n\t\tconsole.log(err);\n\t}\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tgetData: function getData() {\n\t\trequest.method = 'GET';\n\t\trequest.params = {\n\t\t\t'TableName': 'posneg'\n\t\t};\n\t\treturn __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].axios.request(request).then(function (response) {\n\t\t\treturn response.data.Items;\n\t\t}).catch(function (err) {\n\t\t\thandleError(err);\n\t\t});\n\t},\n\tsendData: function sendData(d) {\n\n\t\trequest.params = {};\n\t\trequest.method = 'POST';\n\t\tconsole.log(d);\n\t\treturn __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].axios.request({\n\t\t\tTableName: 'posneg',\n\t\t\tItem: d\n\t\t}).then(function (response) {\n\t\t\tconsole.log(d);\n\t\t\treturn response.data.Items;\n\t\t}).catch(function (err) {\n\t\t\thandleError(err);\n\t\t});\n\t}\n});\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_axios__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_axios__);\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_4_vue_axios___default.a, __WEBPACK_IMPORTED_MODULE_3_axios___default.a);\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mapbox_gl__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mapbox_gl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_mapbox_gl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_resources__ = __webpack_require__(32);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'main',\n  data: function data() {\n    return {\n      geo: [],\n      exp: new Date().getTime()\n    };\n  },\n  mounted: function mounted() {\n    var self = this;\n    self.createMap();\n  },\n\n  methods: {\n    getUser: function getUser() {\n      var id = localStorage.getItem('posneg');\n      if (!id) {\n        id = this.guid();\n        localStorage.setItem('posneg', id);\n      }\n      return id;\n    },\n    getLocation: function getLocation(cb) {\n      var s = this;\n      if (s.geo.length > 0 && new Date().getTime() - s.exp < 200000) {\n        return cb(s.geo);\n      } else {\n        navigator.geolocation.getCurrentPosition(function (pos) {\n          s.geo = [pos.coords.latitude, pos.coords.longitude];\n          s.exp = new Date().getTime();\n          return cb(s.geo);\n        });\n      }\n    },\n    storeEvent: function storeEvent(val) {\n      var s = this;\n      s.getLocation(function (geo) {\n        __WEBPACK_IMPORTED_MODULE_1__api_resources__[\"a\" /* default */].sendData({\n          user: s.getUser(),\n          time: new Date().getTime(),\n          geo: geo,\n          value: val\n        }).then(function (d) {});\n      });\n    },\n    guid: function guid() {\n      function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      }\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    },\n\n    JSONtoGeo: function JSONtoGeo(d) {\n      var n = [[], []];\n      for (var i in d) {\n        n[d[i].value].push({\n          \"type\": \"Feature\",\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [d[i].geo[1], d[i].geo[0]]\n          }\n        });\n      }\n      return n;\n    },\n    createMap: function createMap() {\n      __WEBPACK_IMPORTED_MODULE_0_mapbox_gl___default.a.accessToken = 'pk.eyJ1IjoiYnVja2lua2IiLCJhIjoiY2oxZDU3Mm9wMDBlYjMxbXB4Y2t4am5mbyJ9.gl_2wlSPKP9K9AqFLpQsGQ';\n\n      var self = this;\n      var map = self.map;\n\n      map = new __WEBPACK_IMPORTED_MODULE_0_mapbox_gl___default.a.Map({\n        container: 'map',\n        style: 'mapbox://styles/mapbox/light-v9',\n        minzoom: 1.3,\n        center: [-122.3317778, 47.6357572],\n        zoom: 13\n      });\n\n      var events = [];\n      __WEBPACK_IMPORTED_MODULE_1__api_resources__[\"a\" /* default */].getData().then(function (d) {\n        events = d;\n        map.on('load', function (e) {\n\n          var data = self.JSONtoGeo(d);\n\n          for (var i in data) {\n            map.addLayer({\n              'id': 'points' + i,\n              'type': 'circle',\n              \"source\": {\n                \"type\": \"geojson\",\n                \"data\": {\n                  \"type\": \"FeatureCollection\",\n                  \"features\": data[i]\n                }\n              },\n              'layout': {\n                'visibility': 'visible'\n              },\n              'paint': {\n                'circle-radius': 8,\n                'circle-color': Number(i) > 0 ? '#b30707' : '#0ea541'\n              }\n            });\n          }\n        });\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(38)\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(35),\n  /* template */\n  __webpack_require__(45),\n  /* scopeId */\n  \"data-v-4a01d122\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"math\",\n    attrs: {\n      \"id\": \"neg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.storeEvent(0)\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"-\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"math\",\n    attrs: {\n      \"id\": \"pos\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.storeEvent(1)\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"+\")])])])\n},staticRenderFns: []}\n\n/***/ })\n\n},[33]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.5237560748fbca232849.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport main from '@/components/main'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'main',\n      component: main\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-32256691\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32256691\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 14\n// module chunks = 1","import Vue from 'vue'\n\nvar testing;\n\n// testing = true\n\n// Get Data\nvar request = {\n\theaders: {\n\t\t\"x-api-key\": 'cMapyJwfgt2bqGIbV4uMd1rN08g2ILek1WNtgeT3',\n\t\t\"content-type\": \"application/json\"\n\t},\n\turl: 'https://nygtvwgteg.execute-api.us-west-2.amazonaws.com/prod/posneg',\n}\n\nvar handleError = (err) => {\n\tif (String(err).indexOf('401') !== -1){\n\t\tconsole.log(err)\n\t}\n}\n\nexport default {\n\tgetData() {\n\t\trequest.method = 'GET'\n\t\trequest.params = {\n\t\t\t'TableName': 'posneg'\n\t\t}\n\t\treturn Vue.axios.request(request).then((response) =>{\n\t\t\treturn response.data.Items\n\t\t}).catch(err => {\n\t\t\thandleError(err)\n\t\t});\n\t},\n\tsendData(d) {\n\t\t\t// user: \"9171d969-b5bb-93fd-21d9-f29d073d8fed\",\n\t\t\t// time: 1492215656479,\n\t\t\t// geo: [43.34243,-121.23423]\n\t\t\t// value: 0\n\n\t\trequest.params = {}\n\t\trequest.method = 'POST'\n\t\tconsole.log(d)\n\t\treturn Vue.axios.request({\n\t\t\tTableName: 'posneg',\n\t\t\tItem: d\n\t\t}).then((response) =>{\n\t\t\tconsole.log(d)\n\t\t\treturn response.data.Items\n\t\t}).catch(err => {\n\t\t\thandleError(err)\n\t\t});\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/resources.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\n// import * as VueGoogleMaps from 'vue2-google-maps';\n\n// Vue.use(VueGoogleMaps, {\n// load: {\n//   key: 'AIzaSyBZxaYnVIj-L0rSw3us_ICOYO5Lr05c6Zs'\n//   // v: 'OPTIONAL VERSION NUMBER',\n//   // libraries: 'places', //// If you need to use place input \n// }\n// });\n\nVue.config.productionTip = false\nVue.use(VueAxios, axios)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?6c22c58f","<style lang=\"scss\" scoped>\n\n  // COLORS\n  $control-buttons-l: #b30707;\n  $control-buttons-r: #0ea541;\n\n  .main {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    right: 0px;\n  }\n\n  .math {\n    position: absolute;\n    top: 25%;\n    height: auto;\n    font-size: 725%;\n    color: rgba(44,62,80,1);\n    text-shadow: 0px 2px 3px #555;\n  }\n  #neg {\n    left: 25%;\n    background: $control-buttons-l;\n    width: 1.5em;\n    height: 1.5em;\n    border-radius: 50%;\n    margin: .25em;\n    // border-top: .05em solid lighten($control-buttons-l, 40%);\n    border-bottom: .05em solid darken($control-buttons-l, 20%);\n    &:hover, &:active {\n      color: #fff;\n      background: lighten($control-buttons-l, 5%);\n    }\n    .label {\n      width: 300px;\n      height: 300px;\n      bottom: -3em;\n    }\n  }\n  #pos {\n    right: 25%;\n    background: $control-buttons-r;\n    width: 1.5em;\n    height: 1.5em;\n    border-radius: 50%;\n    margin: .25em;\n    // border-top: .05em solid lighten($control-buttons-r, 40%);\n    border-bottom: .05em solid darken($control-buttons-r, 20%);\n    &:hover, &:active {\n      background: lighten($control-buttons-r, 5%);\n      color: #fff;\n    }\n    .label {\n      bottom: -3em;\n    }\n  }\n\n\n  #map {\n    text-align: left;\n    position: absolute;\n    top: 0px;\n    left: 0px !important;\n    bottom: 0px;\n    right: 0px;\n    width: 100%;\n  }\n\n  // @media (max-width:1080px){\n  //   #pos {\n  //     right: 50%;\n  //     left: 50%;\n  //     top: 25%;\n  //     bottom: 75%;\n  //   }\n  //   #neg {\n  //     right: 50%;\n  //     left: 50%;\n  //     top: 75%;\n  //     bottom: 25%;\n  //   }\n  // }\n\n</style>\n\n<template>\n\n  <div class=\"main\">\n    <div id='map'></div>\n    <div id=\"neg\" class=\"math\" v-on:click=\"storeEvent(0)\"><span class=\"label\">-</span></div>\n    <div id=\"pos\" class=\"math\" v-on:click=\"storeEvent(1)\"><span class=\"label\">+</span></div>\n\n  </div>\n\n</template>\n\n<script>\n\nimport mapboxgl from 'mapbox-gl'\nimport resources from '../api/resources'\n\nexport default {\n  name: 'main',\n  data() {\n    return {\n      geo: [],\n      exp: new Date().getTime()\n    }\n  },\n  mounted () {\n    var self = this;\n    self.createMap()\n  },\n  methods: {\n    getUser: function(){\n      var id = localStorage.getItem('posneg')\n      if (!id){\n        id = this.guid()\n        localStorage.setItem('posneg', id)\n      }\n      return id\n    },\n    getLocation: function(cb){\n      var s = this\n      if (s.geo.length > 0 && new Date().getTime() - s.exp < 200000 ){\n        return cb(s.geo)\n      } else {\n        navigator.geolocation.getCurrentPosition(function(pos){\n          s.geo = [pos.coords.latitude, pos.coords.longitude]\n          s.exp = new Date().getTime()\n          return cb(s.geo)\n        })\n      }\n    },\n    storeEvent: function(val){\n      var s = this\n      s.getLocation(function(geo){\n        resources.sendData({\n          user: s.getUser(),\n          time: new Date().getTime(),\n          geo: geo,\n          value: val\n        }).then(function(d){\n          // s.createMap()\n        })\n      })\n\n    },\n    guid() {\n      function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n          .toString(16)\n          .substring(1);\n      }\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n        s4() + '-' + s4() + s4() + s4();\n    },\n    JSONtoGeo: function(d){\n      var n = [[],[]]\n      for (var i in d){\n        n[d[i].value].push({\n            \"type\": \"Feature\",\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [d[i].geo[1], d[i].geo[0]]\n            }\n        })\n      }\n      return n\n    },\n    createMap: function () {\n      mapboxgl.accessToken = 'pk.eyJ1IjoiYnVja2lua2IiLCJhIjoiY2oxZDU3Mm9wMDBlYjMxbXB4Y2t4am5mbyJ9.gl_2wlSPKP9K9AqFLpQsGQ'\n\n      var self = this;\n      var map = self.map;\n\n      // init the map\n      map = new mapboxgl.Map({\n        container: 'map',\n        style: 'mapbox://styles/mapbox/light-v9',\n        minzoom: 1.3,\n        center: [-122.3317778, 47.6357572], // Seattle\n        zoom: 13\n      })\n\n      var events = []\n      resources.getData().then(function(d){\n        events = d\n        map.on('load', function (e) {\n\n          var data = self.JSONtoGeo(d)\n\n          for (var i in data){\n            map.addLayer({\n                'id': 'points' + i,\n                'type': 'circle',\n                \"source\": {\n                    \"type\": \"geojson\",\n                    \"data\": {\n                        \"type\": \"FeatureCollection\",\n                        \"features\": data[i]\n                    }\n                },\n                'layout': {\n                    'visibility': 'visible'\n                },\n                'paint': {\n                    'circle-radius': 8,\n                    'circle-color': Number(i) > 0 ? '#b30707' : '#0ea541'\n                }\n            });\n          }\n        });\n      })\n    }\n  },\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// main.vue?7af420d3","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4a01d122\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./main.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./main.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a01d122\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./main.vue\"),\n  /* scopeId */\n  \"data-v-4a01d122\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/main.vue\n// module id = 43\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-32256691\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 44\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"math\",\n    attrs: {\n      \"id\": \"neg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.storeEvent(0)\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"-\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"math\",\n    attrs: {\n      \"id\": \"pos\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.storeEvent(1)\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"+\")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a01d122\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/main.vue\n// module id = 45\n// module chunks = 1"],"sourceRoot":""}